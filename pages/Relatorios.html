<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../css/all.min.css" />
    <link rel="stylesheet" href="../css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="" />
    <link
      href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;500&amp;display=swap"
      rel="stylesheet"
    />
    <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />
    <title>Relatórios</title>
  </head>
  <body>
    <div class="loader">
      <h1>Loading<span>....</span></h1>
    </div>
    <div class="page-content index-page">
      <div class="sidebar">
        <div class="brand">
          <i class="fa-solid fa-xmark xmark"></i>
          <h3 class="brand-name">Sistema de Deteção de Excesso de Velocidade</h3>
        </div>
        <ul>
          <li>
            <a href="index.html" class="sidebar-link">
            <i class="fa fa-home"></i>
              <span>Pagina Principal</span>
            </a>
          </li>

          <li>
            <a href="./pages/Registos.html" class="sidebar-link">
              <i class="fa fa-book"></i>
              <span>Registos</span>
            </a>
          </li>

          <li>
            <a href="./pages/Mapa.html" class="sidebar-link">
              <i class="fa fa-map"></i><span>Mapa</span>
            </a>
          </li>

          <li>
            <a href="./pages/Relatorios.html" class="sidebar-link">
           <i class="fa fa-chart-bar"></i>
              <span>Relatórios</span>
            </a>
          </li>

          <li>
            <a href="./pages/Definicoes.html" class="sidebar-link">
              <i class="fa-solid fa-gear fa-fw"></i>
              <span>Definições</span>
            </a>
          </li>

        </ul>
      </div>
      <main>
        <div class="header">
          <i class="fa-solid fa-bars bar-item"></i>
          <div class="search">
            <input type="search" placeholder="Type A Keyword" />
          </div>

          <div class="profile">
            <span class="bell"><i class="fa-regular fa-bell fa-lg"></i></span>

            <img src="../images/avatar.png" alt="No Image" />
          </div>
        </div>
            <script src="../js/script.js"></script>
  </body>
  <div class="card controls">
 <div style="display:flex; gap:12px; align-items:end; flex-wrap:wrap;">
 <div>
 <label>Selecionar câmeras</label>
 <select id="cameraSelect" multiple size="1" style="min-width:200px"></select>
 <div style="font-size:12px;color:var(--muted)">Segure Ctrl/Cmd para multi-selecção</div>
 </div>
 <div>
 <label>Localização</label>
 <select id="locationSelect" style="min-width:180px">
 <option value="">Todas</option>
 </select>
 </div>
 <div>
 <label>Período</label>
 <input type="date" id="startDate"> a <input type="date" id="endDate">
 </div>
 <div>
 <label>Agregação</label>
 <select id="aggMode">
 <option value="daily">Diário</option>
 <option value="weekly">Semanal</option>
 <option value="monthly">Mensal</option>
 </select>
 </div>
 <div>
 <label>Comparar com período anterior</label>
 <div><input type="checkbox" id="compareToggle"> Habilitar</div>
 </div>
 <div style="display:flex;gap:8px;align-items:center;">
 <button id="applyBtn">Aplicar filtros</button>
 <button id="resetBtn" class="small-btn" 
style="background:#e6edf6;color:#0b3b66">Reset</button>
 </div>
 <div style="margin-left:auto" class="toolbar">
 <button id="exportXlsx" class="small-btn">Exportar Excel</button>
 <button id="printReport" class="small-btn">Imprimir / PDF</button>
 <button id="exportCharts" class="small-btn">Exportar Gráficos (PNG)</button>
 </div>
 </div>
</div>

<div class="grid">
 <div class="card stats">
 <div class="stat">
 <div style="font-size:12px;color:var(--muted)">Total de veículos</div>
 <h3 id="statTotal">0</h3>
 <p id="statTotalPerc"></p>
 </div>
 <div class="stat">
 <div style="font-size:12px;color:var(--muted)">Casos excesso de velocidade</div>
 <h3 id="statOverspeed">0</h3>
 <p id="statOverPerc"></p>
 </div>
 <div class="stat">
 <div style="font-size:12px;color:var(--muted)">Velocidade média (km/h)</div>
 <h3 id="statAvgSpeed">0</h3>
 <p id="statAvgPerc"></p>
 </div>
 </div>
 <div class="card charts full">
 <div style="display:flex;gap:12px;align-items:center;justify-content:space-between;">
 <strong>Visão geral (gráficos)</strong>
 <div style="font-size:12px;color:var(--muted)">Interaja para ver detalhes</div>
 </div>
 <div style="display:grid; grid-template-columns: 1fr 1fr; gap:12px; margin-top:10px;">
 <div class="card">
 <label>Infrações por câmera</label>
 <canvas id="chartInfraCamera"></canvas>
 </div>
 <div class="card">
 <label>Infrações por localização</label>
 <canvas id="chartInfraLocation"></canvas>
 </div>
 <div class="card">
 <label>Infrações por hora</label>
 <canvas id="chartInfraHour"></canvas>
 </div>
 <div class="card">
 <label>Velocidade média ao longo do tempo</label>
 <canvas id="chartAvgSpeed"></canvas>
 </div>
 </div>
 </div>
 <div class="card full">
 <div style="display:flex;align-items:center;justify-content:space-between;">
 <strong>Dados / Registos</strong>
 <div style="display:flex;gap:8px;align-items:center;">
 <input type="text" id="tableSearch" placeholder="Pesquisar...">
 <select id="pageSize">
 <option>10</option><option>25</option><option>50</option>
 </select>
 </div>
 </div>
  <div style="margin-top:10px; overflow:auto; max-height:340px;">
 <table id="dataTable">
 <thead>
 <tr>
 <th>Timestamp</th><th>Câmera</th><th>Localização</th><th>Velocidade (km/h)</
th><th>Limite (km/h)</th><th>Infração?</th>
 </tr>
 </thead>
 <tbody></tbody>
 </table>
 </div>
 <div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px;">
 <div id="tableInfo" style="font-size:13px;color:var(--muted)"></div>
 <div>
 <button id="prevPage" class="small-btn">Anterior</button>
 <button id="nextPage" class="small-btn">Próximo</button>
 </div>
 </div>
 </div>
</div>
</html>
